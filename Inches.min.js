class Inches{constructor(t="",s=0,r=11,i=!1){this.set_inc(s),this.set_max_inches(r),this.mm_mode=!!i,this.err_msg=!1,this.update(t)}set_inc(t=0){this.inc=t&&this._increments().indexOf(Number(t))>-1?Number(t):16}set_max_inches(t=11){this.max_inches=t&&Number(t)?1*t:11}update(t={}){return this.parts=this._process(t),this._carry(),this}add(t={}){return(t=this._process(t)).hasOwnProperty("mm")&&t.mm?(this.parts.mm=1*this.parts.mm+1*t.mm,this.parts.i=1*this.dec(0,10)+t.mm/25.4):(this.parts.i=1*this.dec(0,10)+1*this.dec(0,10,t),this.parts.mm=0),this.parts.f=0,this.parts.num=0,this._carry(),this}less(t={}){return(t=this._process(t)).hasOwnProperty("mm")&&t.mm?(this.parts.mm=1*this.parts.mm-1*t.mm,this.parts.i=1*this.dec(0,10)-t.mm/25.4):(this.parts.i=1*this.dec(0,10)-1*this.dec(0,10,t),this.parts.mm=0),this.parts.f=0,this.parts.num=0,this._carry(),this}dec(t=0,s=2,r={}){var i=12*(r="object"==typeof r&&r.hasOwnProperty("f")&&r.hasOwnProperty("i")&&r.hasOwnProperty("num")?r:this.parts).f+1*r.i+1*r.num/2048;switch(i=this._accurate_dec(i,s),t){case 1:t="in";break;case 2:t=" in";break;case 3:t="IN";break;case 4:t=" IN";break;case 5:t='"';break;case 6:t=1===i?"inch":"inches";break;case 7:t=1===i?" inch":" inches";break;case 8:t=1===i?"INCH":"INCHES";break;case 9:t=1===i?" INCH":" INCHES"}return t?i+t:1*i}eng(t=0,s=4){var r=1*this.parts.f+(1*this.parts.i+1*this.parts.num/2048)/12;switch(r=this._accurate_dec(r,s),t){case 1:t="ft";break;case 2:t=" ft";break;case 3:t="FT";break;case 4:t=" FT";break;case 5:t="'";break;case 6:t=1===r?"foot":"feet";break;case 7:t=1===r?" foot":" feet";break;case 8:t=1===r?"FOOT":"FEET";break;case 9:t=1===r?" FOOT":" FEET"}return t?r+t:r}str(t=!1){var s=this._increments();this.inc=s.indexOf(this.inc)?this.inc:16;var r="",i=Math.abs(this.parts.num),e=2048,a=Math.abs(this.parts.i),h="",p=this.dec(0,10,this.parts)<0?"-":"",m=t?"ft":"'",n=t?"in":'"';if(this.parts.f&&(r=Math.abs(this.parts.f)+m+"-"),i&&e){for(e>this.inc&&(i=Math.round(this.inc*i/e).toFixed(),e=1*this.inc);!(i%2||e%2||e/2%2);)i/=2,e/=2;1*i==1*e&&(a++,i=0,e=0),1*i&&(h=" "+i+"/"+e)}return p+(r=r+a+h+n)}mm(t=0,s=1){var r=1*this.parts.mm;switch(r=this._accurate_dec(r,s),t){case 1:t="mm";break;case 2:t=" mm";break;case 3:t="MM";break;case 4:t=" MM"}return t?r+t:r}cm(t=0,s=2){var r=this.parts.mm/10;switch(r=this._accurate_dec(r,s),t){case 1:t="cm";break;case 2:t=" cm";break;case 3:t="CM";break;case 4:t=" CM"}return t?r+t:r}m(t=0,s=4){var r=this.parts.mm/1e3;switch(r=this._accurate_dec(r,s),t){case 1:t="m";break;case 2:t=" m";break;case 3:t="M";break;case 4:t=" M"}return t?r+t:r}_process(t=""){this.input=t;var s=!1;if("object"==typeof t&&t.hasOwnProperty("parts")&&"object"==typeof t.parts&&t.parts.hasOwnProperty("f")&&t.parts.hasOwnProperty("i")&&t.parts.hasOwnProperty("num")&&(s=JSON.parse(JSON.stringify(t.parts))),"object"==typeof t&&t.hasOwnProperty("f")&&t.hasOwnProperty("i")&&t.hasOwnProperty("num")&&(s=JSON.parse(JSON.stringify(t))),s||Number(t)!=t||(s=this.mm_mode?this._mm_obj(t):{i:Number(t)}),!s&&"string"==typeof t&&t.length){s={i:0};var r=0,i=0,e=0,a=0===(t=t.toLowerCase()).indexOf("-")?-1:1;if("m"===t[t.length-1]){var h=1e3,p=t.toLowerCase().split("");if(p.pop(),"c"===p[p.length-1]||"m"===p[p.length-1])switch(p.pop()){case"c":h=10;break;case"m":h=1}if(p.filter(function(t){return" "!==t}),p=Number(p.join("")),!isNaN(p))return this._mm_obj(p*a*h)}(t=t.replace(/[~`!@#$%^&*()\-\+={}[]|[\]\\:;\"<>, ]/g,"_").replace(/(f|')/i,"**!**").replace(/\//i,"**/**").replace(/[a-zA-Z]+/g,"")).indexOf("**!**")>0&&(e=(e=t.split("**!**")).length?Number(e[0].replace(/_/g,"")):0),t=!e||isNaN(e)?t:t.split("**!**")[1],s.i=!e||isNaN(e)?s.i:1*s.i+12*e,i=t.split("").reverse().join(""),t=(t=!(i=i.indexOf("**/**")>0?Number(i.split("**/**")[0].split("").reverse().join("").replace(/_/g,"")):0)||isNaN(i)?t:t.split("**/**")[0]).split("_").filter(function(t){return t.length&&!isNaN(Number(t))}),!i&&t.length>2&&(i=1*t.pop()),i&&!r&&t.length&&(r=1*t.pop()),!e&&t.length>1&&(e=1*t.shift(),s.i=1*s.i+12*e),s.i=Number(t[0])==t[0]?1*s.i+1*t[0]:s.i,r&&i&&!isNaN(i)&&(s.i=1*s.i+r/i*1),s.i=s.i*a}if(s){var m=s.hasOwnProperty("f")&&s.f?12*s.f:0;return s.f=0,s.i=s.hasOwnProperty("i")?s.i:0,s.i+=m,s.num=s.hasOwnProperty("num")?s.num:0,s}return this.err_msg="Inches._process() method failed to return object.",console.trace(this.err_msg+' input: "'+this.input.toString()+'", passed as:',typeof this.input),{f:0,i:0,num:0,mm:0}}_to_pos_zero(t){return t||Math.max(t,0)}_accurate_dec(t=0,s=0){if(!t||Number(t)!=t||Number(s)!=s)return 0;var r=Math.pow(10,1*s),i=(t*r).toFixed(4);return i=Math.round(i)/r,1*this._to_pos_zero(i)}_mm_obj(t){return Number(t)!=t?{f:0,i:0,num:0,mm:0}:{f:0,i:t/25.4,num:0,mm:t,mm_test:0}}_increments(){return[1,2,4,6,8,16,32,64]}_carry(){if(this.parts.f=this.parts.hasOwnProperty("f")?this._to_pos_zero(this.parts.f):0,this.parts.num=this.parts.hasOwnProperty("num")?this._to_pos_zero(this.parts.num):0,this.parts.i=this.parts.hasOwnProperty("i")?1*this.parts.i+12*this.parts.f+this.parts.num/2048:0,this.parts.i=this._to_pos_zero(this.parts.i),this.parts.i){var t=this.parts.i<0?-1:1;this.parts.i=Math.abs(this.parts.i),this.parts.f=0,this.parts.num=0,this.parts.i>this.max_inches&&(this.parts.f=Math.floor(this.parts.i/12),this.parts.i=1*this.parts.i-12*this.parts.f),this.parts.num=this.parts.i%1?(this.parts.i%1*2048).toFixed():0,this.parts.i=this.parts.i%1?Math.floor(this.parts.i):this.parts.i,this.parts.f=this._to_pos_zero(this.parts.f*t),this.parts.i=this._to_pos_zero(this.parts.i*t),this.parts.num=this._to_pos_zero(this.parts.num*t),this.parts.mm=this.parts.hasOwnProperty("mm")&&this.parts.mm?this._to_pos_zero(this.parts.mm):25.4*this.dec(0,10)}else this.parts.mm=0}}